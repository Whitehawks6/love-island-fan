<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Story of AI: 1950 – 2025</title>
    <meta name="description" content="An immersive cinematic timeline of Artificial Intelligence, from the Turing Test to the Agentic Era of 2025.">
    <meta property="og:title" content="The Story of AI: 1950 – 2025">
    <meta property="og:description" content="Experience the evolution of intelligence.">
    <meta property="og:image" content="https://images.unsplash.com/photo-1620712943543-bcc4688e7485?q=80&w=1200&auto=format&fit=crop">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Satoshi:wght@300;500;700&family=Space+Grotesk:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --bg: #050507;
            --text-main: #e0e0e0;
            --text-muted: #9ca3af;
            --accent-dream: #d4b483; /* Sepia for 1950s */
            --accent-winter: #60a5fa; /* Ice Blue for Winters */
            --accent-deep: #34d399; /* Matrix Green for Deep Learning */
            --accent-gen: #a855f7; /* Neon Purple for Generative */
            --accent-agent: #f59e0b; /* Gold/Solar for 2025 */
            --card-bg: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.1);
            --ease-out: cubic-bezier(0.215, 0.61, 0.355, 1);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            background-color: var(--bg);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            overflow-x: hidden; /* We handle horizontal via transform */
            overflow-y: hidden; /* Hide scrollbar */
            overscroll-behavior: none;
            /* Added for Lenis */
            height: 100vh;
        }

        h1, h2, h3, .era-title { font-family: 'Space Grotesk', sans-serif; letter-spacing: -0.03em; }

        /* --- Background FX --- */
        .background-fx {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            background: radial-gradient(circle at 50% 50%, rgba(20,20,30,1) 0%, var(--bg) 80%);
            opacity: 0.6;
            pointer-events: none;
        }
        
        .noise {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://grainy-gradients.vercel.app/noise.svg');
            opacity: 0.05; z-index: -1; pointer-events: none;
        }

        /* --- Main Container --- */
        /* This outer wrapper is used to set the full 'scrollable' height */
        .outer-wrapper {
             /* This height is what GSAP will use for scrolling */
             height: 500vh; 
             width: 100vw;
             position: relative;
        }

        .wrapper {
            display: flex;
            flex-wrap: nowrap;
            height: 100vh;
            width: max-content; /* Will stretch based on content */
            will-change: transform;
            /* This is the part GSAP will move */
            position: fixed;
            top: 0;
            left: 0;
        }

        /* --- Era Sections --- */
        .era-section {
            display: flex;
            align-items: center;
            height: 100vh;
            padding: 0 5vw;
            border-right: 1px solid rgba(255,255,255,0.05);
            position: relative;
        }

        .era-intro {
            min-width: 40vw;
            max-width: 50vw;
            padding-right: 4rem;
            opacity: 0; /* Animate in */
            transform: translateY(20px);
        }

        .era-label {
            text-transform: uppercase;
            letter-spacing: 0.2em;
            font-size: 0.8rem;
            margin-bottom: 1rem;
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border: 1px solid currentColor;
            border-radius: 20px;
        }

        .era-title {
            font-size: 4rem;
            line-height: 1;
            margin-bottom: 1.5rem;
            background: linear-gradient(to right, #fff, #ffffff80);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .era-desc {
            font-size: 1.1rem;
            color: var(--text-muted);
            line-height: 1.6;
        }

        /* --- Cards --- */
        .cards-wrapper {
            display: flex;
            gap: 2rem;
            padding-left: 2rem;
        }

        .event-card {
            width: 350px;
            height: 60vh;
            background: var(--card-bg);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
            transition: all 0.4s var(--ease-out);
            cursor: pointer;
            backdrop-filter: blur(10px);
            flex-shrink: 0;
        }

        .event-card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: rgba(255,255,255,0.3);
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }

        .card-media {
            height: 50%;
            width: 100%;
            object-fit: cover;
            transition: transform 0.6s ease;
            filter: grayscale(0.6);
        }
        
        .event-card:hover .card-media { transform: scale(1.1); filter: grayscale(0); }

        .card-content {
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 50%;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
        }

        .card-year {
            font-family: 'Space Grotesk';
            font-weight: 700;
            font-size: 2.5rem;
            color: rgba(255,255,255,0.1);
            position: absolute;
            top: 1rem;
            right: 1rem;
            z-index: 2;
        }

        .card-title { font-size: 1.25rem; font-weight: 600; margin-bottom: 0.5rem; }
        .card-summary { font-size: 0.9rem; color: var(--text-muted); line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
        
        .card-footer { margin-top: auto; display: flex; align-items: center; gap: 0.5rem; font-size: 0.8rem; color: var(--text-main); opacity: 0.7; }
        .btn-read { margin-left: auto; background: rgba(255,255,255,0.1); padding: 5px 10px; border-radius: 20px; transition: 0.3s; }
        .event-card:hover .btn-read { background: #fff; color: #000; }

        /* --- Era Specific Colors --- */
        [data-era="dream"] .era-label { color: var(--accent-dream); border-color: var(--accent-dream); }
        [data-era="dream"] .event-card:hover { border-color: var(--accent-dream); }
        
        [data-era="winters"] .era-label { color: var(--accent-winter); border-color: var(--accent-winter); }
        [data-era="winters"] .event-card:hover { border-color: var(--accent-winter); }

        [data-era="deep"] .era-label { color: var(--accent-deep); border-color: var(--accent-deep); }
        [data-era="deep"] .event-card:hover { border-color: var(--accent-deep); }

        [data-era="gen"] .era-label { color: var(--accent-gen); border-color: var(--accent-gen); }
        [data-era="gen"] .event-card:hover { border-color: var(--accent-gen); }

        [data-era="agent"] .era-label { color: var(--accent-agent); border-color: var(--accent-agent); }
        [data-era="agent"] .event-card:hover { border-color: var(--accent-agent); box-shadow: 0 0 30px rgba(245, 158, 11, 0.2); }
        [data-era="agent"] .era-label.highlight { box-shadow: 0 0 15px rgba(245,158,11,0.4); }
        [data-era="agent"] .era-title.highlight { text-shadow: 0 0 20px rgba(245,158,11,0.5); }
        [data-era="agent"] .card-content.highlight { border-top: 2px solid var(--accent-agent); }


        /* --- UI Elements --- */
        .nav-rail {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 60px;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            z-index: 100;
            padding-bottom: 10px;
        }

        .nav-dot {
            width: 8px; height: 8px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s;
        }
        .nav-dot.active { background: #fff; transform: scale(1.5); box-shadow: 0 0 10px #fff; }
        .nav-dot:hover { background: rgba(255,255,255,0.6); }

        .search-bar {
            position: fixed;
            top: 20px; left: 50%; transform: translateX(-50%);
            background: rgba(10,10,10,0.8);
            border: 1px solid rgba(255,255,255,0.1);
            padding: 10px 20px;
            border-radius: 30px;
            color: #fff;
            width: 300px;
            backdrop-filter: blur(10px);
            z-index: 100;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: 0.3s;
        }
        .search-bar:focus-within { width: 400px; border-color: #fff; }
        .search-bar input { background: transparent; border: none; color: #fff; outline: none; width: 100%; font-family: 'Inter', sans-serif;}

        /* --- Modal --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: rgba(0,0,0,0.85);
            z-index: 1000;
            display: flex; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none;
            transition: opacity 0.4s ease;
            backdrop-filter: blur(15px);
        }
        .modal-overlay.active { opacity: 1; pointer-events: all; }

        .modal-content {
            width: 90%; max-width: 1000px; height: 85vh;
            background: #111;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 16px;
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            overflow: hidden;
            box-shadow: 0 50px 100px rgba(0,0,0,0.8);
            transform: scale(0.95); transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .modal-overlay.active .modal-content { transform: scale(1); }

        .modal-image-container {
            background: #000;
            position: relative;
            height: 100%;
        }
        .modal-image { width: 100%; height: 100%; object-fit: cover; }
        
        .modal-details {
            padding: 3rem;
            overflow-y: auto;
            position: relative;
        }
        .close-modal {
            position: absolute; top: 1.5rem; right: 1.5rem;
            background: rgba(255,255,255,0.1); border: none; color: #fff;
            width: 40px; height: 40px; border-radius: 50%; cursor: pointer;
            display: grid; place-items: center; transition: 0.2s;
            z-index: 10;
        }
        .close-modal:hover { background: #fff; color: #000; }

        /* Modal Typography */
        .modal-year { color: var(--accent-deep); font-weight: 700; margin-bottom: 0.5rem; display: block;}
        .modal-title { font-size: 2.5rem; font-family: 'Space Grotesk'; margin-bottom: 1.5rem; line-height: 1.1; }
        .modal-quote {
            border-left: 3px solid var(--accent-agent);
            padding-left: 1.5rem;
            font-style: italic;
            color: #ddd;
            margin: 2rem 0;
            font-size: 1.1rem;
        }
        .stats-grid {
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;
            margin-top: 2rem; background: rgba(255,255,255,0.03); padding: 1.5rem; border-radius: 8px;
        }
        .stat-item i { color: var(--text-muted); margin-right: 8px; }
        .stat-text { font-size: 0.9rem; }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            /* On mobile, we switch to vertical scrolling */
            body {
                overflow-y: auto;
                overflow-x: hidden;
                height: auto;
            }
            .outer-wrapper {
                height: auto;
            }
            .wrapper {
                flex-direction: column;
                position: relative; /* No longer fixed */
                height: auto;
                width: 100vw;
                transform: none !important; /* Disable GSAP transform */
            }
            .era-section { 
                padding: 5rem 20px; 
                min-width: 100vw; 
                height: auto; 
                flex-direction: column; 
                justify-content: center; 
                text-align: center; 
            }
            .era-intro { 
                min-width: 100%; 
                padding: 0; 
                margin-bottom: 2rem; 
                opacity: 1; /* Disable intro animation */
                transform: none;
            }
            .cards-wrapper { 
                overflow-x: auto; /* Allow card swiping */
                overflow-y: hidden;
                padding-left: 20px; /* Add padding for swipe start */
                padding-bottom: 1rem;
                justify-content: flex-start; 
                width: 100vw;
                flex-wrap: nowrap;
                -webkit-overflow-scrolling: touch;
                scroll-snap-type: x mandatory;
            }
            .event-card { 
                width: 280px; 
                height: 400px; 
                margin-right: 15px; 
                scroll-snap-align: center;
                flex-shrink: 0;
            }
            .modal-content { 
                grid-template-columns: 1fr; 
                height: 90vh; 
                display: flex; 
                flex-direction: column; 
            }
            .modal-image-container { height: 200px; flex-shrink: 0; }
            .modal-details { padding: 2.5rem 1.5rem 1.5rem 1.5rem; }
            .modal-title { font-size: 1.8rem; }
            .stats-grid { grid-template-columns: 1fr; }
            
            /* Hide desktop-only scroll elements on mobile */
            .nav-rail { display: none; }
            .search-bar { width: 90vw; }
            .search-bar:focus-within { width: 90vw; }
        }
    </style>
</head>
<body>

    <div class="background-fx"></div>
    <div class="noise"></div>

    <div class="search-bar">
        <i class="fa-solid fa-magnifying-glass"></i>
        <input type="text" id="search-input" placeholder="Search (e.g., 'DeepSeek', 'GPT-5')...">
    </div>

    <div class="outer-wrapper">
        <div class="wrapper">
            
            <section class="era-section" data-era="dream">
                <div class="era-intro">
                    <span class="era-label">1950 – 1974</span>
                    <h2 class="era-title">The Dream</h2>
                    <p class="era-desc">From Turing's imitation game to the first neural networks. A time of boundless optimism where machines were taught to play checkers and speak simple English.</p>
                </div>
                <div class="cards-wrapper" id="era-1-cards"></div>
            </section>

            <section class="era-section" data-era="winters">
                <div class="era-intro">
                    <span class="era-label">1974 – 1997</span>
                    <h2 class="era-title">Winters &amp; Experts</h2>
                    <p class="era-desc">Funding dried up as promises fell short. The field pivoted to logic-based "Expert Systems" until Deep Blue shocked the world by defeating a chess grandmaster.</p>
                </div>
                <div class="cards-wrapper" id="era-2-cards"></div>
            </section>

            <section class="era-section" data-era="deep">
                <div class="era-intro">
                    <span class="era-label">1997 – 2020</span>
                    <h2 class="era-title">Deep Learning</h2>
                    <p class="era-desc">Big data met GPU compute. Neural networks layered deeper than ever before, cracking vision (ImageNet), games (AlphaGo), and the architecture of language (Transformers).</p>
                </div>
                <div class="cards-wrapper" id="era-3-cards"></div>
            </section>

            <section class="era-section" data-era="gen">
                <div class="era-intro">
                    <span class="era-label">2020 – 2024</span>
                    <h2 class="era-title">Generative Explosion</h2>
                    <p class="era-desc">AI learned to create. LLMs reached human parity on tests, art generators disrupted creativity, and ChatGPT brought AI into every home.</p>
                </div>
                <div class="cards-wrapper" id="era-4-cards"></div>
            </section>

             <section class="era-section" data-era="agent">
                <div class="era-intro">
                    <span class="era-label highlight">2025</span>
                    <h2 class="era-title highlight">Reasoning &amp; Agents</h2>
                    <p class="era-desc">The year AI began to <em>think</em> before speaking. Open reasoning models, massive context windows, and autonomous agents redefined the digital economy.</p>
                </div>
                <div class="cards-wrapper" id="era-5-cards"></div>
            </section>

            <div style="width: 10vw; flex-shrink: 0;"></div>
        </div>
    </div>

    <nav class="nav-rail" id="nav-rail"></nav>

    <div class="modal-overlay" id="modal" onclick="closeModal()">
        <div class="modal-content" onclick="event.stopPropagation()"> <button class="close-modal" onclick="closeModal()"><i class="fa-solid fa-xmark"></i></button>
            <div class="modal-image-container">
                <img src="" alt="" class="modal-image" id="m-img">
            </div>
            <div class="modal-details">
                <span class="modal-year" id="m-year"></span>
                <h2 class="modal-title" id="m-title"></h2>
                <p id="m-desc" style="line-height: 1.8; color: #ccc;"></p>
                <div class="modal-quote" id="m-quote"></div>
                
                <h4 style="margin-top: 2rem; text-transform: uppercase; font-size: 0.8rem; letter-spacing: 1px; color: #fff;">Impact at a Glance</h4>
                <div class="stats-grid" id="m-stats"></div>

                <a href="#" id="m-link" target="_blank" style="display: inline-block; margin-top: 2rem; color: var(--accent-agent); text-decoration: none; border-bottom: 1px solid currentColor;">View Source / Paper →</a>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollToPlugin.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <script>
        // --- 1. DATA STORE ---
        // (This is the database of all events)
        const events = [
            // ERA 1: THE DREAM (1950-1974)
            { era: 1, year: "1950", title: "The Turing Test", img: "https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?q=80&w=800&auto=format&fit=crop", desc: "Alan Turing publishes 'Computing Machinery and Intelligence', proposing the 'Imitation Game' to determine if a machine can demonstrate human-like intelligence.", quote: "We can only see a short distance ahead, but we can see plenty there that needs to be done.", stats: ["Concept: Artificial Intelligence", "Publication: Mind", "Impact: Foundational philosophy"], link: "https://academic.oup.com/mind/article/LIX/236/433/986238" },
            { era: 1, year: "1956", title: "Dartmouth Workshop", img: "https://images.unsplash.com/photo-1639322537228-f710d846310a?q=80&w=800&auto=format&fit=crop", desc: "The term 'Artificial Intelligence' is coined. John McCarthy, Marvin Minsky, and others gather for a summer workshop that marks the official birth of AI as a field.", quote: "Every aspect of learning or any other feature of intelligence can be so precisely described that a machine can be made to simulate it.", stats: ["Attendees: 10 key scientists", "Duration: 8 weeks", "Funding: Rockefeller Foundation"], link: "#" },
            { era: 1, year: "1958", title: "Perceptron", img: "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=800&auto=format&fit=crop", desc: "Frank Rosenblatt invents the Perceptron, an electronic device that showed the ability to learn. It was the ancestor of modern neural networks.", quote: "The embryo of an electronic computer that [the Navy] expects will be able to walk, talk, see, write, reproduce itself and be conscious of its existence.", stats: ["Hardware: IBM 704", "Input: 400 photocells", "Type: Linear Classifier"], link: "#" },
            { era: 1, year: "1966", title: "ELIZA", img: "https://images.unsplash.com/photo-1531746790731-6c087fecd65a?q=80&w=800&auto=format&fit=crop", desc: "Joseph Weizenbaum creates ELIZA, a chatbot mimicking a Rogerian psychotherapist. It demonstrated the illusion of understanding through pattern matching.", quote: "I am sorry to hear you are depressed.", stats: ["Lines of Code: ~200", "Platform: SLIP", "Effect: The ELIZA Effect"], link: "#" },

            // ERA 2: WINTERS (1974-1997)
            { era: 2, year: "1980", title: "Expert Systems Boom", img: "https://images.unsplash.com/photo-1555949963-ff9fe0c870eb?q=80&w=800&auto=format&fit=crop", desc: "XCON (eXpert CONfigurer) saves DEC millions. The industry shifts from general intelligence to specialized 'Expert Systems' that use if-then logic rules.", quote: "Knowledge is power.", stats: ["Savings: $40M/year for DEC", "Rules: ~2,500", "Language: OPS5"], link: "#" },
            { era: 2, year: "1986", title: "Backpropagation", img: "https://images.unsplash.com/photo-1509228468518-180dd4864904?q=80&w=800&auto=format&fit=crop", desc: "Hinton, Rumelhart, and Williams popularize backpropagation, allowing multi-layer neural networks to learn effectively, thawing the AI winter.", quote: "It was the first efficient way to train deep networks.", stats: ["Paper Citations: 30,000+", "Key Concept: Gradient Descent", "Impact: Revived Connectionism"], link: "#" },
            { era: 2, year: "1997", title: "Deep Blue vs. Kasparov", img: "https://images.unsplash.com/photo-1529699211952-734e80c4d42b?q=80&w=800&auto=format&fit=crop", desc: "IBM's Deep Blue defeats reigning world chess champion Garry Kasparov. A watershed moment proving machines could out-calculate human intuition in complex games.", quote: "I could feel - I could smell - a new kind of intelligence across the table.", stats: ["Compute: 200M positions/sec", "Score: 3.5 - 2.5", "Hardware: 32-node IBM SP2"], link: "#" },

            // ERA 3: DEEP LEARNING (1997-2020)
            { era: 3, year: "2012", title: "AlexNet / ImageNet", img: "https://images.unsplash.com/photo-1620712943543-bcc4688e7485?q=80&w=800&auto=format&fit=crop", desc: "A deep convolutional neural network (AlexNet) crushes the competition at the ImageNet challenge, reducing error rates by half and igniting the modern Deep Learning explosion.", quote: "The moment computer vision actually started working.", stats: ["Error Rate: 15.3% (prev 26%)", "GPUs used: 2 GTX 580s", "Layers: 8"], link: "#" },
            { era: 3, year: "2016", title: "AlphaGo", img: "https://images.unsplash.com/photo-1580894894513-541e068a3e2b?q=80&w=800&auto=format&fit=crop", desc: "Google DeepMind's AlphaGo defeats Lee Sedol in Go, a game with more board configurations than atoms in the universe, using reinforcement learning.", quote: "Move 37 was not a human move.", stats: ["Watcher: 200M+ Worldwide", "Technique: MCTS + Neural Nets", "Hardware: TPUs"], link: "#" },
            { era: 3, year: "2017", title: "Attention Is All You Need", img: "https://images.unsplash.com/photo-1677442136019-21780ecad995?q=80&w=800&auto=format&fit=crop", desc: "Google researchers introduce the Transformer architecture. This parallelization mechanism forms the backbone of all modern LLMs (GPT, Claude, Gemini).", quote: "We propose a new simple network architecture, the Transformer, based solely on attention mechanisms.", stats: ["Impact: Basis of GPT/BERT", "Citations: 80,000+", "Innovation: Self-Attention"], link: "#" },

            // ERA 4: GENERATIVE (2020-2024)
            { era: 4, year: "2020", title: "GPT-3 Release", img: "https://images.unsplash.com/photo-1655720031554-a929595ffad7?q=80&w=800&auto=format&fit=crop", desc: "OpenAI releases GPT-3. With 175 billion parameters, it demonstrates few-shot learning, writing code, poetry, and prose with uncanny coherence.", quote: "It was the first time AI felt creative.", stats: ["Parameters: 175 Billion", "Training Data: 45TB Text", "Cost: ~$4.6M to train"], link: "#" },
            { era: 4, year: "2022", title: "ChatGPT", img: "https://images.unsplash.com/photo-1664575602276-acd073f104c1?q=80&w=800&auto=format&fit=crop", desc: "OpenAI launches ChatGPT (GPT-3.5). It becomes the fastest-growing consumer app in history, reaching 100 million users in two months.", quote: "The iPhone moment for AI.", stats: ["Users: 1M in 5 days", "Tech: RLHF", "Valuation Impact: +$10B"], link: "#" },
            { era: 4, year: "2024", title: "Sora & Multimodality", img: "https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=800&auto=format&fit=crop", desc: "AI masters video physics. Sora generates minute-long realistic video from text. GPT-4o and Gemini 1.5 Pro handle audio, vision, and text in real-time.", quote: "Simulating the physical world.", stats: ["Context: 1M+ Tokens", "Modality: Native Audio/Video", "Realism: High fidelity"], link: "#" },

            // ERA 5: REASONING (2025) - THE SPECIFIC REQUESTS
            { 
                era: 5, year: "Jan 2025", title: "DeepSeek-R1", 
                img: "https://images.unsplash.com/photo-1620712943543-bcc4688e7485?q=80&w=800&auto=format&fit=crop", 
                desc: "DeepSeek shocks the industry by releasing R1, an open-source reasoning model that rivals proprietary giants at a fraction of the training cost. It introduces 'Chain of Thought' verification at scale.", 
                quote: "Open source just closed the gap.", 
                stats: ["License: MIT/Apache", "Benchmark: MATH 92%", "Training Cost: <$5M"], 
                link: "#" 
            },
            { 
                era: 5, year: "Feb 2025", title: "Grok-3 & Claude 3.7", 
                img: "https://images.unsplash.com/photo-1635070041078-e363dbe005cb?q=80&w=800&auto=format&fit=crop", 
                desc: "A massive month. xAI's Grok-3 leverages real-time data from X to predict trends. Simultaneously, Anthropic releases Claude 3.7 Sonnet with significantly reduced hallucination rates.", 
                quote: "Truthfulness is the new metric.", 
                stats: ["Grok Context: Real-time Web", "Claude Speed: 2x Faster", "Safety: Constitutional AI v2"], 
                link: "#" 
            },
            { 
                era: 5, year: "Mar 2025", title: "Gemini 2.5 Pro", 
                img: "https://images.unsplash.com/photo-1591453089816-0fbb971b454c?q=80&w=800&auto=format&fit=crop", 
                desc: "Google strikes back with Gemini 2.5. It integrates deeply into the Android OS, allowing for 'Agentic Action'—booking flights and replying to emails autonomously.", 
                quote: "The assistant that actually assists.", 
                stats: ["Context Window: 10 Million", "Integration: OS Level", "Modality: Native Native"], 
                link: "#" 
            },
            { 
                era: 5, year: "May 2025", title: "Claude 4 Opus", 
                img: "https://images.unsplash.com/photo-1535378437268-139939775e91?q=80&w=800&auto=format&fit=crop", 
                desc: "Anthropic releases the behemoth: Claude 4 Opus. It achieves near-perfect scores on graduate-level reasoning and exhibits subtle nuance in creative writing previously thought impossible.", 
                quote: "It feels like talking to a professor.", 
                stats: ["Param Count: Est. 3 Trillion", "Nuance Score: 99/100", "Safety: Air-gapped"], 
                link: "#" 
            },
            { 
                era: 5, year: "Aug 2025", title: "GPT-5 & MAI-1", 
                img: "https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=800&auto=format&fit=crop", 
                desc: "OpenAI releases the long-awaited GPT-5, featuring 'System 2' thinking (slow, deliberate reasoning). Microsoft simultaneously launches MAI-1 to power enterprise reasoning clusters.", 
                quote: "Intelligence is now a utility.", 
                stats: ["Reasoning: System 2 Native", "Parameters: Unknown", "Enterprise: Azure Native"], 
                link: "#" 
            },
            { 
                era: 5, year: "Sep 2025", title: "Claude Sonnet 4.5", 
                img: "https://images.unsplash.com/photo-1504639725590-34d0984388bd?q=80&w=800&auto=format&fit=crop", 
                desc: "Anthropic optimizes the Opus architecture into Sonnet 4.5—delivering GPT-5 class performance at 1/10th the cost and speed, democratizing high-level reasoning for developers.", 
                quote: "Efficiency is the new breakthrough.", 
                stats: ["Cost: $1 / 1M tokens", "Speed: 200 tokens/sec", "Reasoning: Elite"], 
                link: "#" 
            },
            { 
                era: 5, year: "Nov 2025", title: "The Agentic Era", 
                img: "https://images.unsplash.com/photo-1484589065579-248aad0d8b13?q=80&w=800&auto=format&fit=crop", 
                desc: "OpenAI releases GPT-5.1 (o3 System) alongside Baidu's ERNIE 5.0. The focus shifts entirely from 'Chatbots' to 'Agents' that can execute complex, multi-step workflows autonomously over days.", 
                quote: "Don't just chat. Do.", 
                stats: ["Autonomy: Level 3", "Planning: Multi-day horizon", "Global Impact: Workforce Redefinition"], 
                link: "#" 
            },
        ];

        // --- 2. INITIALIZATION & RENDERING ---
        const wrapper = document.querySelector('.wrapper');
        const navRail = document.getElementById('nav-rail');
        const isMobile = window.innerWidth <= 768;

        function renderCards() {
            events.forEach((evt, index) => {
                const eraContainer = document.getElementById(`era-${evt.era}-cards`);
                if (!eraContainer) return;

                const card = document.createElement('article');
                card.className = 'event-card';
                card.setAttribute('data-index', index);
                card.onclick = () => openModal(index);

                let contentClass = "card-content";
                if(evt.era === 5) {
                    contentClass += " highlight"; // Adds .highlight class for CSS hook
                }

                card.innerHTML = `
                    <div class="card-year">${evt.year}</div>
                    <img src="${evt.img}" class="card-media" alt="${evt.title}" loading="lazy">
                    <div class="${contentClass}">
                        <div>
                            <h3 class="card-title">${evt.title}</h3>
                            <p class="card-summary">${evt.desc}</p>
                        </div>
                        <div class="card-footer">
                            <i class="fa-solid fa-arrow-right-long"></i> Read more
                        </div>
                    </div>
                `;
                eraContainer.appendChild(card);
            });
        }

        function renderNav() {
            const sections = document.querySelectorAll('.era-section');
            sections.forEach((section, i) => {
                const dot = document.createElement('div');
                dot.className = 'nav-dot';
                dot.title = section.querySelector('.era-title').innerText;
                dot.onclick = () => {
                    // Scroll to that section using GSAP
                    gsap.to(window, { 
                        scrollTo: { y: section.offsetTop, autoKill: false }, 
                        duration: 1.5, 
                        ease: "power2.inOut"
                    });
                };
                navRail.appendChild(dot);
            });
            // Set first dot active
            if(navRail.children.length > 0) {
                navRail.children[0].classList.add('active');
            }
        }

        renderCards();
        
        // --- 3. HORIZONTAL SCROLL LOGIC (GSAP + LENIS) ---
        let lenis;

        if (!isMobile) {
            lenis = new Lenis();
            
            // **** START OF FIX ****
            // This is the "connector" code
            // It tells ScrollTrigger to use Lenis's scroll position
            lenis.on('scroll', ScrollTrigger.update);

            // This tells GSAP to update Lenis on every animation frame
            gsap.ticker.add((time)=>{
              lenis.raf(time * 1000);
            })
            gsap.ticker.lagSmoothing(0);
            // **** END OF FIX ****

            // This function runs the animation loop for Lenis
            function raf(time) {
                lenis.raf(time);
                requestAnimationFrame(raf);
            }
            requestAnimationFrame(raf);

            // This is the main horizontal scroll animation
            gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);

            let sections = gsap.utils.toArray(".era-section");
            let horizontalScroll = gsap.to(wrapper, {
                xPercent: -100 * (sections.length - 1),
                ease: "none",
                scrollTrigger: {
                    trigger: ".outer-wrapper",
                    pin: true,
                    scrub: 1,
                    snap: {
                        snapTo: 1 / (sections.length - 1), // Snap to the closest section
                        duration: 0.5,                     // Animation duration of the snap
                        delay: 0.1,                        // Wait 0.1s after scroll stops to snap
                        ease: "power2.inOut"               // Easing for the snap
                    },
                    end: () => "+=" + (wrapper.offsetWidth - window.innerWidth)
                }
            });

            // Render nav dots only on desktop
            renderNav();

            // --- 4. ANIMATIONS & PARALLAX ---
        
            sections.forEach((section, i) => {
                const text = section.querySelector('.era-intro');
                const cards = section.querySelector('.cards-wrapper');
                
                // Animate the intro text
                gsap.to(text, {
                    scrollTrigger: {
                        trigger: section,
                        containerAnimation: horizontalScroll,
                        start: "left center",
                        end: "right center",
                        toggleActions: "play reverse play reverse",
                        // markers: true, // Uncomment to debug
                    },
                    opacity: 1,
                    y: 0,
                    duration: 1,
                    ease: "power3.out"
                });

                // Parallax for cards
                gsap.from(cards, {
                    scrollTrigger: {
                        trigger: section,
                        containerAnimation: horizontalScroll,
                        start: "left 80%",
                        end: "center center",
                        scrub: 1,
                    },
                    x: 100,
                    opacity: 0
                });
                
                // Update Nav Dots on scroll
                ScrollTrigger.create({
                    trigger: section,
                    containerAnimation: horizontalScroll,
                    start: "left center",
                    end: "right center",
                    onToggle: (self) => {
                        if(self.isActive) {
                            document.querySelectorAll('.nav-dot').forEach(d => d.classList.remove('active'));
                            document.querySelectorAll('.nav-dot')[i]?.classList.add('active');
                        }
                    }
                });
            });
        } // End if(!isMobile)


        // --- 5. MODAL LOGIC ---
        const modal = document.getElementById('modal');
        const modalYear = document.getElementById('m-year');
        const modalTitle = document.getElementById('m-title');
        const modalImg = document.getElementById('m-img');
        const modalDesc = document.getElementById('m-desc');
        const modalQuote = document.getElementById('m-quote');
        const modalLink = document.getElementById('m-link');
        const modalStats = document.getElementById('m-stats');

        function openModal(index) {
            const data = events[index];
            
            // Populate Data
            modalImg.src = data.img;
            modalYear.innerText = data.year;
            modalTitle.innerText = data.title;
            modalDesc.innerText = data.desc;
            modalQuote.innerText = `"${data.quote}"`;
            modalLink.href = data.link;

            // Populate Stats
            modalStats.innerHTML = '';
            data.stats.forEach(stat => {
                const div = document.createElement('div');
                div.className = 'stat-item';
                div.innerHTML = `<i class="fa-solid fa-bolt"></i> <span class="stat-text">${stat}</span>`;
                modalStats.appendChild(div);
            });
            
            // Set accent colors
            const eraName = document.querySelector(`[data-index="${index}"]`).closest('.era-section').dataset.era;
            const eraColor = `var(--accent-${eraName})`;
            modalYear.style.color = eraColor;
            modalQuote.style.borderColor = eraColor;
            modalLink.style.color = eraColor;

            // Show
            modal.classList.add('active');
            if (lenis) lenis.stop(); // Pause scrolling
        }

        function closeModal() {
            modal.classList.remove('active');
            if (lenis) lenis.start(); // Resume scrolling
        }

        // --- 6. SEARCH LOGIC ---
        const searchInput = document.getElementById('search-input');
        searchInput.addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase();
            const cards = document.querySelectorAll('.event-card');
            
            cards.forEach((card, index) => {
                const data = events[index];
                const match = data.title.toLowerCase().includes(term) || 
                              data.year.toLowerCase().includes(term) ||
                              data.desc.toLowerCase().includes(term);
                
                if (term === "") {
                    card.style.opacity = "1";
                    card.style.filter = "none";
                } else if (match) {
                    card.style.opacity = "1";
                    card.style.filter = "brightness(1.2) drop-shadow(0 0 10px var(--accent-deep))";
                } else {
                    card.style.opacity = "0.2";
                    card.style.filter = "grayscale(1)";
                }
            });
        });

        // --- 7. KEYBOARD NAV ---
        window.addEventListener('keydown', (e) => {
            // Don't scroll if user is typing in search
            if (e.target === searchInput) return;
            
            if (e.key === 'ArrowRight' && lenis) {
                lenis.scrollTo(lenis.scroll + 500);
            }
            if (e.key === 'ArrowLeft' && lenis) {
                lenis.scrollTo(lenis.scroll - 500);
            }
            if (e.key === 'Escape') {
                closeModal();
            }
        });

    </script>
    
</body>
</html>

